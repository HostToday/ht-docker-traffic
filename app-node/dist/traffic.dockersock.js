"use strict";
/// <reference path="./typings/main.d.ts" />
var plugins = require("./traffic.plugins");
exports.get = function () {
    var done = plugins.q.defer();
    plugins.request.get('http://unix:/var/run/docker.sock:/containers/json')
        .on("data", function (data) {
        var dataString = data.toString("utf8");
        var dataObject = JSON.parse(dataString);
        done.resolve(dataObject);
    });
    return done.promise;
};
var tickerObs = plugins.rx.Observable
    .interval(5000).repeat();
exports.noTicker = false;
exports.startTicker = function () {
    exports.tickerSub = tickerObs.subscribe(function (x) {
        console.log('Next: ' + x);
    }, function (err) {
        console.log('Error: ' + err);
    }, function () {
        console.log('Completed');
    });
    console.log("subscribed ticker");
    if (exports.noTicker)
        exports.tickerSub.dispose();
    return exports.tickerSub;
};
exports.getChange = function () {
};
exports.containerChange = plugins.rx.Observable.create(function (observer) {
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYWZmaWMuZG9ja2Vyc29jay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsNENBQTRDO0FBQzVDLElBQU8sT0FBTyxXQUFXLG1CQUFtQixDQUFDLENBQUM7QUFFbkMsV0FBRyxHQUFHO0lBQ2IsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM3QixPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtREFBbUQsQ0FBQztTQUNuRSxFQUFFLENBQUMsTUFBTSxFQUFDLFVBQVMsSUFBSTtRQUNwQixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3ZDLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUM3QixDQUFDLENBQUMsQ0FBQztJQUNQLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO0FBQ3hCLENBQUMsQ0FBQztBQUVGLElBQUksU0FBUyxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsVUFBVTtLQUNoQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7QUFHbEIsZ0JBQVEsR0FBRyxLQUFLLENBQUM7QUFDakIsbUJBQVcsR0FBRztJQUNyQixpQkFBUyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQzNCLFVBQVUsQ0FBQztRQUNQLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzlCLENBQUMsRUFDRCxVQUFVLEdBQUc7UUFDVCxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUNqQyxDQUFDLEVBQ0Q7UUFDSSxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzdCLENBQUMsQ0FDSixDQUFDO0lBQ0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQ2pDLEVBQUUsQ0FBQyxDQUFDLGdCQUFRLENBQUM7UUFBQyxpQkFBUyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ2xDLE1BQU0sQ0FBQyxpQkFBUyxDQUFDO0FBQ3JCLENBQUMsQ0FBQztBQUdTLGlCQUFTLEdBQUc7QUFFdkIsQ0FBQyxDQUFDO0FBQ1MsdUJBQWUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsVUFBUyxRQUFRO0FBRTNFLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6InRyYWZmaWMuZG9ja2Vyc29jay5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL3R5cGluZ3MvbWFpbi5kLnRzXCIgLz5cbmltcG9ydCBwbHVnaW5zID0gcmVxdWlyZShcIi4vdHJhZmZpYy5wbHVnaW5zXCIpO1xuXG5leHBvcnQgbGV0IGdldCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGRvbmUgPSBwbHVnaW5zLnEuZGVmZXIoKTtcbiAgICBwbHVnaW5zLnJlcXVlc3QuZ2V0KCdodHRwOi8vdW5peDovdmFyL3J1bi9kb2NrZXIuc29jazovY29udGFpbmVycy9qc29uJylcbiAgICAgICAgLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgbGV0IGRhdGFTdHJpbmcgPSBkYXRhLnRvU3RyaW5nKFwidXRmOFwiKTtcbiAgICAgICAgICAgIGxldCBkYXRhT2JqZWN0ID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKTtcbiAgICAgICAgICAgIGRvbmUucmVzb2x2ZShkYXRhT2JqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIGRvbmUucHJvbWlzZTtcbn07XG5cbmxldCB0aWNrZXJPYnMgPSBwbHVnaW5zLnJ4Lk9ic2VydmFibGVcbiAgICAuaW50ZXJ2YWwoNTAwMCkucmVwZWF0KCk7XG5cbmV4cG9ydCBsZXQgdGlja2VyU3ViO1xuZXhwb3J0IGxldCBub1RpY2tlciA9IGZhbHNlO1xuZXhwb3J0IGxldCBzdGFydFRpY2tlciA9IGZ1bmN0aW9uKCl7XG4gICAgdGlja2VyU3ViID0gdGlja2VyT2JzLnN1YnNjcmliZShcbiAgICAgICAgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOZXh0OiAnICsgeCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvcjogJyArIGVycik7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb21wbGV0ZWQnKTtcbiAgICAgICAgfVxuICAgICk7XG4gICAgY29uc29sZS5sb2coXCJzdWJzY3JpYmVkIHRpY2tlclwiKTtcbiAgICBpZiAobm9UaWNrZXIpIHRpY2tlclN1Yi5kaXNwb3NlKCk7XG4gICAgcmV0dXJuIHRpY2tlclN1Yjtcbn07XG5cblxuZXhwb3J0IGxldCBnZXRDaGFuZ2UgPSBmdW5jdGlvbigpe1xuXG59O1xuZXhwb3J0IGxldCBjb250YWluZXJDaGFuZ2UgPSBwbHVnaW5zLnJ4Lk9ic2VydmFibGUuY3JlYXRlKGZ1bmN0aW9uKG9ic2VydmVyKXtcbiAgICBcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
