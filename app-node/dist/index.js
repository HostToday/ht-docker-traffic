"use strict";
/// <reference path="./typings/main.d.ts" />
console.log("**** Starting ht-docker-traffic ****");
var plugins = require("./traffic.plugins");
var TrafficEnvironment = require("./traffic.environment");
var TrafficOptions = require("./traffic.options");
var TrafficDockersock = require("./traffic.dockersock");
var TrafficCerts = require("./traffic.certs");
plugins.beautylog.log("Traffic container is started!");
TrafficEnvironment.checkDebug()
    .then(TrafficOptions.buildOptions)
    .then(TrafficCerts.setupCerts)
    .then(TrafficDockersock.startTicker);
//prevent Ticker from executing indefinitely for tests
exports.noTicker = function () {
    TrafficDockersock.noTicker = true;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw0Q0FBNEM7QUFDNUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO0FBQ3BELElBQU8sT0FBTyxXQUFXLG1CQUFtQixDQUFDLENBQUM7QUFDOUMsSUFBTyxrQkFBa0IsV0FBVyx1QkFBdUIsQ0FBQyxDQUFDO0FBQzdELElBQU8sY0FBYyxXQUFXLG1CQUFtQixDQUFDLENBQUM7QUFDckQsSUFBTyxpQkFBaUIsV0FBVyxzQkFBc0IsQ0FBQyxDQUFDO0FBQzNELElBQU8sWUFBWSxXQUFXLGlCQUFpQixDQUFDLENBQUM7QUFDakQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsK0JBQStCLENBQUMsQ0FBQztBQUN2RCxrQkFBa0IsQ0FBQyxVQUFVLEVBQUU7S0FDMUIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUM7S0FDakMsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUM7S0FDN0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBRXpDLHNEQUFzRDtBQUMzQyxnQkFBUSxHQUFHO0lBQ2xCLGlCQUFpQixDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7QUFDdEMsQ0FBQyxDQUFDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vdHlwaW5ncy9tYWluLmQudHNcIiAvPlxuY29uc29sZS5sb2coXCIqKioqIFN0YXJ0aW5nIGh0LWRvY2tlci10cmFmZmljICoqKipcIik7XG5pbXBvcnQgcGx1Z2lucyA9IHJlcXVpcmUoXCIuL3RyYWZmaWMucGx1Z2luc1wiKTtcbmltcG9ydCBUcmFmZmljRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi90cmFmZmljLmVudmlyb25tZW50XCIpO1xuaW1wb3J0IFRyYWZmaWNPcHRpb25zID0gcmVxdWlyZShcIi4vdHJhZmZpYy5vcHRpb25zXCIpO1xuaW1wb3J0IFRyYWZmaWNEb2NrZXJzb2NrID0gcmVxdWlyZShcIi4vdHJhZmZpYy5kb2NrZXJzb2NrXCIpO1xuaW1wb3J0IFRyYWZmaWNDZXJ0cyA9IHJlcXVpcmUoXCIuL3RyYWZmaWMuY2VydHNcIik7XG5wbHVnaW5zLmJlYXV0eWxvZy5sb2coXCJUcmFmZmljIGNvbnRhaW5lciBpcyBzdGFydGVkIVwiKTtcblRyYWZmaWNFbnZpcm9ubWVudC5jaGVja0RlYnVnKClcbiAgICAudGhlbihUcmFmZmljT3B0aW9ucy5idWlsZE9wdGlvbnMpXG4gICAgLnRoZW4oVHJhZmZpY0NlcnRzLnNldHVwQ2VydHMpXG4gICAgLnRoZW4oVHJhZmZpY0RvY2tlcnNvY2suc3RhcnRUaWNrZXIpO1xuXG4vL3ByZXZlbnQgVGlja2VyIGZyb20gZXhlY3V0aW5nIGluZGVmaW5pdGVseSBmb3IgdGVzdHNcbmV4cG9ydCBsZXQgbm9UaWNrZXIgPSBmdW5jdGlvbigpe1xuICAgIFRyYWZmaWNEb2NrZXJzb2NrLm5vVGlja2VyID0gdHJ1ZTtcbn07Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
