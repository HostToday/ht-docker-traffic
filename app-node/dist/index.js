"use strict";
/// <reference path="./typings/main.d.ts" />
console.log("**** Starting ht-docker-traffic ****");
var plugins = require("./traffic.plugins");
var TrafficDockersock = require("./traffic.dockersock");
var TrafficEnvironment = require("./traffic.environment");
plugins.beautylog.log("Traffic container is started!");
TrafficEnvironment.checkDebug()
    .then(TrafficEnvironment.checkSsl)
    .then(TrafficEnvironment.checkCloudflare)
    .then(TrafficDockersock.startTicker);
//prevent Ticker from executing indefinitely for tests
exports.noTicker = function () {
    TrafficDockersock.noTicker = true;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw0Q0FBNEM7QUFDNUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO0FBQ3BELElBQU8sT0FBTyxXQUFXLG1CQUFtQixDQUFDLENBQUM7QUFDOUMsSUFBTyxpQkFBaUIsV0FBVyxzQkFBc0IsQ0FBQyxDQUFDO0FBQzNELElBQU8sa0JBQWtCLFdBQVcsdUJBQXVCLENBQUMsQ0FBQztBQUU3RCxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0FBQ3ZELGtCQUFrQixDQUFDLFVBQVUsRUFBRTtLQUMxQixJQUFJLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDO0tBQ2pDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxlQUFlLENBQUM7S0FDeEMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBRXpDLHNEQUFzRDtBQUMzQyxnQkFBUSxHQUFHO0lBQ2xCLGlCQUFpQixDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7QUFDdEMsQ0FBQyxDQUFDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vdHlwaW5ncy9tYWluLmQudHNcIiAvPlxuY29uc29sZS5sb2coXCIqKioqIFN0YXJ0aW5nIGh0LWRvY2tlci10cmFmZmljICoqKipcIik7XG5pbXBvcnQgcGx1Z2lucyA9IHJlcXVpcmUoXCIuL3RyYWZmaWMucGx1Z2luc1wiKTtcbmltcG9ydCBUcmFmZmljRG9ja2Vyc29jayA9IHJlcXVpcmUoXCIuL3RyYWZmaWMuZG9ja2Vyc29ja1wiKTtcbmltcG9ydCBUcmFmZmljRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiLi90cmFmZmljLmVudmlyb25tZW50XCIpO1xuaW1wb3J0IFRyYWZmaWNTc2wgPSByZXF1aXJlKFwiLi90cmFmZmljLnNzbFwiKTtcbnBsdWdpbnMuYmVhdXR5bG9nLmxvZyhcIlRyYWZmaWMgY29udGFpbmVyIGlzIHN0YXJ0ZWQhXCIpO1xuVHJhZmZpY0Vudmlyb25tZW50LmNoZWNrRGVidWcoKVxuICAgIC50aGVuKFRyYWZmaWNFbnZpcm9ubWVudC5jaGVja1NzbClcbiAgICAudGhlbihUcmFmZmljRW52aXJvbm1lbnQuY2hlY2tDbG91ZGZsYXJlKVxuICAgIC50aGVuKFRyYWZmaWNEb2NrZXJzb2NrLnN0YXJ0VGlja2VyKTtcblxuLy9wcmV2ZW50IFRpY2tlciBmcm9tIGV4ZWN1dGluZyBpbmRlZmluaXRlbHkgZm9yIHRlc3RzXG5leHBvcnQgbGV0IG5vVGlja2VyID0gZnVuY3Rpb24oKXtcbiAgICBUcmFmZmljRG9ja2Vyc29jay5ub1RpY2tlciA9IHRydWU7XG59OyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
