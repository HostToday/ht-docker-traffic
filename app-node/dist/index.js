"use strict";
/// <reference path="./typings/main.d.ts" />
console.log("**** Starting ht-docker-traffic ****");
var plugins = require("./traffic.plugins");
var TrafficCerts = require("./traffic.certs");
var TrafficEnvironment = require("./traffic.environment");
var TrafficEvents = require("./traffic.events");
var TrafficOptions = require("./traffic.options");
plugins.beautylog.log("Traffic container is started!");
TrafficEnvironment.checkDebug()
    .then(TrafficOptions.buildOptions)
    .then(TrafficCerts.setupCerts)
    .then(TrafficEvents.startTicker);
//prevent Ticker from executing indefinitely for tests
exports.noTicker = function () {
    TrafficEvents.noTicker = true;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw0Q0FBNEM7QUFDNUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO0FBQ3BELElBQU8sT0FBTyxXQUFXLG1CQUFtQixDQUFDLENBQUM7QUFHOUMsSUFBTyxZQUFZLFdBQVcsaUJBQWlCLENBQUMsQ0FBQztBQUVqRCxJQUFPLGtCQUFrQixXQUFXLHVCQUF1QixDQUFDLENBQUM7QUFDN0QsSUFBTyxhQUFhLFdBQVcsa0JBQWtCLENBQUMsQ0FBQztBQUVuRCxJQUFPLGNBQWMsV0FBVyxtQkFBbUIsQ0FBQyxDQUFDO0FBR3JELE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLCtCQUErQixDQUFDLENBQUM7QUFDdkQsa0JBQWtCLENBQUMsVUFBVSxFQUFFO0tBQzFCLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDO0tBQ2pDLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDO0tBQzdCLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7QUFFckMsc0RBQXNEO0FBQzNDLGdCQUFRLEdBQUc7SUFDbEIsYUFBYSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7QUFDbEMsQ0FBQyxDQUFDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vdHlwaW5ncy9tYWluLmQudHNcIiAvPlxuY29uc29sZS5sb2coXCIqKioqIFN0YXJ0aW5nIGh0LWRvY2tlci10cmFmZmljICoqKipcIik7XG5pbXBvcnQgcGx1Z2lucyA9IHJlcXVpcmUoXCIuL3RyYWZmaWMucGx1Z2luc1wiKTtcbmltcG9ydCBwYXRocyA9IHJlcXVpcmUoXCIuL3RyYWZmaWMucGF0aHNcIik7XG5cbmltcG9ydCBUcmFmZmljQ2VydHMgPSByZXF1aXJlKFwiLi90cmFmZmljLmNlcnRzXCIpO1xuaW1wb3J0IFRyYWZmaWNEb2NrZXJzb2NrID0gcmVxdWlyZShcIi4vdHJhZmZpYy5kb2NrZXJzb2NrXCIpO1xuaW1wb3J0IFRyYWZmaWNFbnZpcm9ubWVudCA9IHJlcXVpcmUoXCIuL3RyYWZmaWMuZW52aXJvbm1lbnRcIik7XG5pbXBvcnQgVHJhZmZpY0V2ZW50cyA9IHJlcXVpcmUoXCIuL3RyYWZmaWMuZXZlbnRzXCIpO1xuaW1wb3J0IFRyYWZmaWNHaXQgPSByZXF1aXJlKFwiLi90cmFmZmljLmdpdFwiKTtcbmltcG9ydCBUcmFmZmljT3B0aW9ucyA9IHJlcXVpcmUoXCIuL3RyYWZmaWMub3B0aW9uc1wiKTtcblxuaW1wb3J0IFRyYWZmaWNOZ2lueCA9IHJlcXVpcmUoXCIuL3RyYWZmaWMubmdpbnhcIik7XG5wbHVnaW5zLmJlYXV0eWxvZy5sb2coXCJUcmFmZmljIGNvbnRhaW5lciBpcyBzdGFydGVkIVwiKTtcblRyYWZmaWNFbnZpcm9ubWVudC5jaGVja0RlYnVnKClcbiAgICAudGhlbihUcmFmZmljT3B0aW9ucy5idWlsZE9wdGlvbnMpXG4gICAgLnRoZW4oVHJhZmZpY0NlcnRzLnNldHVwQ2VydHMpXG4gICAgLnRoZW4oVHJhZmZpY0V2ZW50cy5zdGFydFRpY2tlcik7XG5cbi8vcHJldmVudCBUaWNrZXIgZnJvbSBleGVjdXRpbmcgaW5kZWZpbml0ZWx5IGZvciB0ZXN0c1xuZXhwb3J0IGxldCBub1RpY2tlciA9IGZ1bmN0aW9uKCl7XG4gICAgVHJhZmZpY0V2ZW50cy5ub1RpY2tlciA9IHRydWU7XG59OyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
