"use strict";
/// <reference path="./typings/main.d.ts" />
var plugins = require("./traffic.plugins");
var TrafficEnvironment = require("./traffic.environment");
exports.certOrigin = false; // when true, certificates are synced using git
exports.certLe = false; // when true, new certificates are obtained from Lets Encrypt
exports.cfUpdate = false; // when true, cloudflare is updated for containers on the same node
exports.sshKey = false;
exports.buildOptions = function () {
    var done = plugins.q.defer();
    plugins.beautylog.log("now building options...");
    exports.certOrigin = TrafficEnvironment.checkCertOriginSync();
    exports.certLe = TrafficEnvironment.checkCertLeSync();
    exports.cfUpdate = TrafficEnvironment.checkCfUpdateSync();
    exports.sshKey = TrafficEnvironment.checkSshKeySync();
    done.resolve();
    return done.promise;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYWZmaWMub3B0aW9ucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsNENBQTRDO0FBQzVDLElBQU8sT0FBTyxXQUFXLG1CQUFtQixDQUFDLENBQUM7QUFDOUMsSUFBTyxrQkFBa0IsV0FBVyx1QkFBdUIsQ0FBQyxDQUFDO0FBRWxELGtCQUFVLEdBQUcsS0FBSyxDQUFDLENBQUMsK0NBQStDO0FBQ25FLGNBQU0sR0FBRyxLQUFLLENBQUMsQ0FBQyw2REFBNkQ7QUFDN0UsZ0JBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQyxtRUFBbUU7QUFDckYsY0FBTSxHQUFHLEtBQUssQ0FBQztBQUNmLG9CQUFZLEdBQUc7SUFDdEIsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM3QixPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQ2pELGtCQUFVLEdBQUcsa0JBQWtCLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztJQUN0RCxjQUFNLEdBQUcsa0JBQWtCLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDOUMsZ0JBQVEsR0FBRyxrQkFBa0IsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQ2xELGNBQU0sR0FBRyxrQkFBa0IsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUM5QyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDZixNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztBQUN4QixDQUFDLENBQUMiLCJmaWxlIjoidHJhZmZpYy5vcHRpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vdHlwaW5ncy9tYWluLmQudHNcIiAvPlxuaW1wb3J0IHBsdWdpbnMgPSByZXF1aXJlKFwiLi90cmFmZmljLnBsdWdpbnNcIik7XG5pbXBvcnQgVHJhZmZpY0Vudmlyb25tZW50ID0gcmVxdWlyZShcIi4vdHJhZmZpYy5lbnZpcm9ubWVudFwiKTtcblxuZXhwb3J0IGxldCBjZXJ0T3JpZ2luID0gZmFsc2U7IC8vIHdoZW4gdHJ1ZSwgY2VydGlmaWNhdGVzIGFyZSBzeW5jZWQgdXNpbmcgZ2l0XG5leHBvcnQgbGV0IGNlcnRMZSA9IGZhbHNlOyAvLyB3aGVuIHRydWUsIG5ldyBjZXJ0aWZpY2F0ZXMgYXJlIG9idGFpbmVkIGZyb20gTGV0cyBFbmNyeXB0XG5leHBvcnQgbGV0IGNmVXBkYXRlID0gZmFsc2U7IC8vIHdoZW4gdHJ1ZSwgY2xvdWRmbGFyZSBpcyB1cGRhdGVkIGZvciBjb250YWluZXJzIG9uIHRoZSBzYW1lIG5vZGVcbmV4cG9ydCBsZXQgc3NoS2V5ID0gZmFsc2U7XG5leHBvcnQgbGV0IGJ1aWxkT3B0aW9ucyA9IGZ1bmN0aW9uKCl7XG4gICAgbGV0IGRvbmUgPSBwbHVnaW5zLnEuZGVmZXIoKTtcbiAgICBwbHVnaW5zLmJlYXV0eWxvZy5sb2coXCJub3cgYnVpbGRpbmcgb3B0aW9ucy4uLlwiKTtcbiAgICBjZXJ0T3JpZ2luID0gVHJhZmZpY0Vudmlyb25tZW50LmNoZWNrQ2VydE9yaWdpblN5bmMoKTtcbiAgICBjZXJ0TGUgPSBUcmFmZmljRW52aXJvbm1lbnQuY2hlY2tDZXJ0TGVTeW5jKCk7XG4gICAgY2ZVcGRhdGUgPSBUcmFmZmljRW52aXJvbm1lbnQuY2hlY2tDZlVwZGF0ZVN5bmMoKTtcbiAgICBzc2hLZXkgPSBUcmFmZmljRW52aXJvbm1lbnQuY2hlY2tTc2hLZXlTeW5jKCk7XG4gICAgZG9uZS5yZXNvbHZlKCk7XG4gICAgcmV0dXJuIGRvbmUucHJvbWlzZTtcbn07Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
