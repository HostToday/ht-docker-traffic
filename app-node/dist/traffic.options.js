"use strict";
/// <reference path="./typings/main.d.ts" />
var plugins = require("./traffic.plugins");
var TrafficEnvironment = require("./traffic.environment");
exports.certOrigin = false; // when true, certificates are synced using git
exports.certLe = false; // when true, new certificates are obtained from Lets Encrypt
exports.cfUpdate = false; // when true, cloudflare is updated for containers on the same node
exports.buildOptions = function () {
    var done = plugins.q.defer();
    plugins.beautylog.log("now building options...");
    exports.certOrigin = TrafficEnvironment.checkCertOriginSync();
    exports.certLe = TrafficEnvironment.checkCertLeSync();
    exports.cfUpdate = TrafficEnvironment.checkCfUpdateSync();
    done.resolve();
    return done.promise;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYWZmaWMub3B0aW9ucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsNENBQTRDO0FBQzVDLElBQU8sT0FBTyxXQUFXLG1CQUFtQixDQUFDLENBQUM7QUFDOUMsSUFBTyxrQkFBa0IsV0FBVyx1QkFBdUIsQ0FBQyxDQUFDO0FBRWxELGtCQUFVLEdBQUcsS0FBSyxDQUFDLENBQUMsK0NBQStDO0FBQ25FLGNBQU0sR0FBRyxLQUFLLENBQUMsQ0FBQyw2REFBNkQ7QUFDN0UsZ0JBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQyxtRUFBbUU7QUFDckYsb0JBQVksR0FBRztJQUN0QixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzdCLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLHlCQUF5QixDQUFDLENBQUM7SUFDakQsa0JBQVUsR0FBRyxrQkFBa0IsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0lBQ3RELGNBQU0sR0FBRyxrQkFBa0IsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUM5QyxnQkFBUSxHQUFHLGtCQUFrQixDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDbEQsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ2YsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7QUFDeEIsQ0FBQyxDQUFDIiwiZmlsZSI6InRyYWZmaWMub3B0aW9ucy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL3R5cGluZ3MvbWFpbi5kLnRzXCIgLz5cbmltcG9ydCBwbHVnaW5zID0gcmVxdWlyZShcIi4vdHJhZmZpYy5wbHVnaW5zXCIpO1xuaW1wb3J0IFRyYWZmaWNFbnZpcm9ubWVudCA9IHJlcXVpcmUoXCIuL3RyYWZmaWMuZW52aXJvbm1lbnRcIik7XG5cbmV4cG9ydCBsZXQgY2VydE9yaWdpbiA9IGZhbHNlOyAvLyB3aGVuIHRydWUsIGNlcnRpZmljYXRlcyBhcmUgc3luY2VkIHVzaW5nIGdpdFxuZXhwb3J0IGxldCBjZXJ0TGUgPSBmYWxzZTsgLy8gd2hlbiB0cnVlLCBuZXcgY2VydGlmaWNhdGVzIGFyZSBvYnRhaW5lZCBmcm9tIExldHMgRW5jcnlwdFxuZXhwb3J0IGxldCBjZlVwZGF0ZSA9IGZhbHNlOyAvLyB3aGVuIHRydWUsIGNsb3VkZmxhcmUgaXMgdXBkYXRlZCBmb3IgY29udGFpbmVycyBvbiB0aGUgc2FtZSBub2RlXG5leHBvcnQgbGV0IGJ1aWxkT3B0aW9ucyA9IGZ1bmN0aW9uKCl7XG4gICAgbGV0IGRvbmUgPSBwbHVnaW5zLnEuZGVmZXIoKTtcbiAgICBwbHVnaW5zLmJlYXV0eWxvZy5sb2coXCJub3cgYnVpbGRpbmcgb3B0aW9ucy4uLlwiKTtcbiAgICBjZXJ0T3JpZ2luID0gVHJhZmZpY0Vudmlyb25tZW50LmNoZWNrQ2VydE9yaWdpblN5bmMoKTtcbiAgICBjZXJ0TGUgPSBUcmFmZmljRW52aXJvbm1lbnQuY2hlY2tDZXJ0TGVTeW5jKCk7XG4gICAgY2ZVcGRhdGUgPSBUcmFmZmljRW52aXJvbm1lbnQuY2hlY2tDZlVwZGF0ZVN5bmMoKTtcbiAgICBkb25lLnJlc29sdmUoKTtcbiAgICByZXR1cm4gZG9uZS5wcm9taXNlO1xufTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
